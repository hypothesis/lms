{% extends "templates/base.html.jinja2" %}

{% block title %}Application Instances{% endblock %}

{% block content %}
    <div id="content">
        <h1>Application Reports</h1>

        <h2>Generated Application Instances</h2>
        <p>{{ apps|length }} application instance credentials have been generated:</p>
        <table>
            <tr>
                <th>Created At</th>
                <th>Lms Url</th>
                <th>Signup Email</th>
                <th>Consumer Key</th>
                <th>Shared Secret</th>
            </tr>
        {% for row in apps %}
            <tr class="data">
                <td>{{  row['created']  }}</td>
                <td>{{  row['lms_url']  }}</td>
                <td>{{  row['requesters_email']  }}</td>
                <td>{{  row['consumer_key']  }}</td>
                <td class="wrap">{{  row['shared_secret']  }}</td>
            </tr>
        {% endfor %}
        </table>

        <h2>LTI App Launches</h2>
        <p>There have been {{ num_launches }} lti launches:</p>
        <table>
            <tr>
                <th>Context ID</th>
                <th>Number of Launches</th>
                <th>Lms Url</th>
                <th>Signup Email</th>
                <th>Consumer Key</th>
            </tr>
        {% for row in launches %}
            <tr class="data">
              {% for element in row %}
                <td>{{  element  }}</td>
              {% endfor %}
            </tr>
        {% endfor %}
        </table>

        <div><p><a class="btn btn--gray" href="{{ logout_url }}">Log out</a></p></div>
    </div>
{% endblock %}
